py27-idiap:
  script:
    - git clean -ffdx
    - export TMPDIR=/var/tmp
    - python2.7 bootstrap-buildout.py
    - ./bin/buildout -c debian.cfg
    - unset TMPDIR
    - ./bin/python --version
    - export NOSE_WITH_COVERAGE=1
    - export NOSE_COVER_PACKAGE=bob.ip.facelandmarks
    - ./bin/nosetests -sv
    - ./bin/sphinx-build doc html
    - ./bin/sphinx-build -b doctest doc html
  tags:
    - lidiap2015

py27-ubuntu-12.04:
  script:
    - git clean -ffdx
    - python2.7 bootstrap-buildout.py
    - ./bin/buildout -c debian.cfg
    - ./bin/python --version
    - export NOSE_WITH_COVERAGE=1
    - export NOSE_COVER_PACKAGE=bob.ip.facelandmarks
    - ./bin/nosetests -sv
    - ./bin/sphinx-build doc html
    - ./bin/sphinx-build -b doctest doc html
  tags:
    - beat-ubuntu-12.04

py27-ubuntu-14.04:
  script:
    - git clean -ffdx
    - python2.7 bootstrap-buildout.py
    - ./bin/buildout -c debian.cfg
    - ./bin/python --version
    - export NOSE_WITH_COVERAGE=1
    - export NOSE_COVER_PACKAGE=bob.ip.facelandmarks
    - ./bin/nosetests -sv
    - ./bin/sphinx-build doc html
    - ./bin/sphinx-build -b doctest doc html
  tags:
    - beat-ubuntu-14.04

py27-macosx:
  script:
    - git clean -ffdx
    - python2.7 bootstrap-buildout.py
    - ./bin/buildout
    - ./bin/python --version
    - export NOSE_WITH_COVERAGE=1
    - export NOSE_COVER_PACKAGE=bob.ip.facelandmarks
    - ./bin/nosetests -sv
    - ./bin/sphinx-build doc html
    - ./bin/sphinx-build -b doctest doc html
  tags:
    - beat-macosx

py34-idiap:
  script:
    - git clean -ffdx
    - export TMPDIR=/var/tmp
    - python3.4 bootstrap-buildout.py
    - ./bin/buildout -c debian.cfg
    - unset TMPDIR
    - ./bin/python --version
    - export NOSE_WITH_COVERAGE=1
    - export NOSE_COVER_PACKAGE=bob.ip.facelandmarks
    - ./bin/nosetests -sv
    - ./bin/sphinx-build doc html
    - ./bin/sphinx-build -b doctest doc html
  tags:
    - lidiap2015

py34-ubuntu-latest:
  script:
    - git clean -ffdx
    - python3.4 bootstrap-buildout.py
    - ./bin/buildout -c debian.cfg
    - ./bin/python --version
    - export NOSE_WITH_COVERAGE=1
    - export NOSE_COVER_PACKAGE=bob.ip.facelandmarks
    - ./bin/nosetests -sv
    - ./bin/sphinx-build doc html
    - ./bin/sphinx-build -b doctest doc html
  tags:
    - beat-ubuntu-latest

py34-macosx:
  script:
    - git clean -ffdx
    - python3.4 bootstrap-buildout.py
    - ./bin/buildout
    - ./bin/python --version
    - export NOSE_WITH_COVERAGE=1
    - export NOSE_COVER_PACKAGE=bob.ip.facelandmarks
    - ./bin/nosetests -sv
    - ./bin/sphinx-build doc html
    - ./bin/sphinx-build -b doctest doc html
  tags:
    - beat-macosx
